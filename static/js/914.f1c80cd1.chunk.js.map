{"version":3,"file":"static/js/914.f1c80cd1.chunk.js","mappings":"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","sources":["store/recipes/selectors.js","components/RecipeList/RecipeList.styled.jsx","components/RecipeList/RecipeList.jsx","page/Recipes.jsx","store/recipes/store.js"],"sourcesContent":["export const selectFetchRecipes = state => state.fetchRecipes;\nexport const selectPage = state => state.page;\nexport const selectRecipes = state => state.recipes;\nexport const selectNextPage = state => state.nextPage;\nexport const selectLoading = state => state.loading;\nexport const selectError = state => state.error;\n","import styled from \"styled-components\";\n\nexport const ListItem = styled.li`\n${(props) =>\n    props.selected && `border: 2px solid red;`\n}\n`","import { selectRecipes } from 'store/recipes/selectors';\nimport { useEffect, useRef } from 'react';\nimport useStore from 'store/recipes/store';\nimport { ListItem } from './RecipeList.styled';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport const RecipeList = () => {\n  const recipes = useStore(selectRecipes);\n  const visibleRecipes = useStore(state => state.visibleRecipes);\n  const selectRecipe = useStore(state => state.selectRecipe);\n  const selectedRecipes = useStore(state => state.selectedRecipes);\n  const deleteButtonVisible = useStore(\n\t\t(state) => state.deleteButtonVisible\n\t);\n  const deleteSelectedRecipes = useStore(\n\t\t(state) => state.deleteSelectedRecipes\n\t);\n  const containerRef = useRef(null);\n  const location = useLocation();\n    \n\n  useEffect(() => {\n    const containerRefCurrent = containerRef.current;\n    const handleContextMenu = event => {\n      event.preventDefault();\n      const selectedRecipeId = event.target.closest('li').dataset.recipeId;\n      const selectedRecipe = recipes.find(\n        recipe => recipe.id.toString() === selectedRecipeId\n      );\n      selectRecipe(selectedRecipe);\n    };\n    containerRefCurrent.addEventListener('contextmenu', handleContextMenu);\n\n    return () => {\n      containerRefCurrent.removeEventListener('contextmenu', handleContextMenu);\n    };\n  }, [recipes, selectRecipe]);\n\n  const handleDelete = () => {\n\t\tdeleteSelectedRecipes();\n\t};\n\n  // console.log(`all`,recipes);\n  // console.log(`visible array`, visibleRecipes);\n  return (\n    <div ref={containerRef}>\n      <ul>\n        {visibleRecipes.map(recipe => (\n          <ListItem\n            key={recipe.id}\n            data-recipe-id={recipe.id}\n            selected={selectedRecipes.includes(recipe)}\n          >\n            <Link to={`${recipe.id}`} state={{from: location}}>\n              <h3>\n                {recipe.id}\n                {recipe.name}\n              </h3>\n              <p>{recipe.tagline}</p>\n              {recipe.id}\n              {recipe.name}\n            </Link>\n          </ListItem>\n        ))}\n      </ul>\n       {deleteButtonVisible && <button type='button' onClick={handleDelete}>DELETE</button>}\n    </div>\n  );\n};\n","import { Loading } from 'components/Loading';\nimport { RecipeList } from 'components/RecipeList';\nimport { useEffect, useRef } from 'react';\nimport useStore from 'store/recipes/store';\n\nconst Recipes = () => {\n  const fetchRecipes = useStore(state => state.fetchRecipes);\n  const loading = useStore(state => state.loading);\n\n  const recipes = useStore(state => state.recipes);\n  const currentPage = useStore(state => state.currentPage);\n  const totalPages = useStore(state => state.totalPages);\n  const nextPage = useStore(state => state.nextPage);\n  const prevPage = useStore(state => state.prevPage);\n  const listRef = useRef(null);\n\n  useEffect(() => {\n    fetchRecipes(currentPage);\n  }, [fetchRecipes, currentPage]);\n\n  useEffect(() => {\n    // Scroll to top when changing page\n    window.scrollTo(0, 0);\n  }, [currentPage]);\n\n  return (\n    <>\n      <div>Recipes page</div>\n      <div ref={listRef}>\n        <RecipeList />\n        {!recipes.length && <p>You have already viewed all the recipes.</p>}\n      </div>\n      {loading && <Loading />}\n      <button onClick={prevPage} disabled={currentPage <= 1}>\n        Previous\n      </button>\n      <button\n        onClick={nextPage}\n        disabled={currentPage >= totalPages || !recipes.length}>\n        Next\n      </button>\n    </>\n  );\n};\n\nexport default Recipes;\n","import axios from 'axios';\nimport { create } from 'zustand';\n\nconst API_URL = 'https://api.punkapi.com/v2/beers';\nconst RECIPES_PER_PAGE = 30;\nconst RECIPES_PER_VISIBLE_ON_PAGE = 15;\n\nconst useStore = create((set, get) => ({\n  recipes: [],\n  loading: false,\n  error: null,\n  currentPage: 1,\n  visibleRecipes: [],\n  selectedRecipes: [],\n  recipeDetails: [],\n  deleteButtonVisible: false,\n\n  fetchRecipes: async page => {\n    set({ loading: true });\n    try {\n      const response = await axios.get(\n        `${API_URL}?page=${page}&per_page=${RECIPES_PER_PAGE}`\n      );\n      const dataRecipes = await response.data;\n      set(state => ({\n        ...state,\n        recipes: [...state.recipes, ...dataRecipes],\n        loading: false,\n      }));\n\n      set(state => {\n        const start = (page - 1) * RECIPES_PER_VISIBLE_ON_PAGE;\n        const end = page * RECIPES_PER_VISIBLE_ON_PAGE;\n        const visibleRecipes = state.recipes.slice(start, end);\n\n        return {\n          ...state,\n          visibleRecipes,\n          loading: false,\n        };\n      });\n    } catch (e) {\n      let error = e\n      // custom error\n      if (e.statusCode === 400) {\n        error = await e.json()\n      }\n      set({ error })\n    } finally {\n      set({ loading: false });\n    }\n  },\n  nextPage: () => {\n    set(state => {\n      const nextPage = state.currentPage + 1;\n\n      return {\n        currentPage: nextPage,\n      };\n    });\n  },\n\n  prevPage: () => {\n    set(state => {\n      const prevPage = state.currentPage - 1;\n\n      return {\n        currentPage: prevPage,\n      };\n    });\n  },\n\n  selectRecipe: recipe => {\n    set(state => ({\n      selectedRecipes: state.selectedRecipes.includes(recipe)\n        ? state.selectedRecipes.filter(r => r !== recipe)\n        : [...state.selectedRecipes, recipe],\n      deleteButtonVisible: true,\n    }));\n  },\n\n  deleteSelectedRecipes: () => {\n    set(state => {\n      const updatedRecipes = state.recipes.filter(\n        recipe => !state.selectedRecipes.includes(recipe)\n      );\n      return {\n        ...state,\n        recipes: updatedRecipes,\n        loading: false,\n        error: null,\n        selectedRecipes: [],\n        deleteButtonVisible: false,\n      };\n    });\n    set(state => {\n      const start = (state.currentPage - 1) * RECIPES_PER_VISIBLE_ON_PAGE;\n      const end = state.currentPage * RECIPES_PER_VISIBLE_ON_PAGE;\n      const visibleRecipes = state.recipes.slice(start, end);\n\n      return {\n        visibleRecipes,\n        loading: false,\n      };\n    });\n  },\n  getRecipeById: async (id) => {\n    set(() => ({ loading: true }));\n    try {\n      const response = await axios.get(`${API_URL}/${id}`);\n      set({ recipeDetails: await response.data[0], isLoading: false });\n    } catch (e) {\n      let error = e\n      // custom error\n      if (e.statusCode === 400) {\n        error = await e.json()\n      }\n      set({ error })\n    }}\n    \n}));\n\nexport default useStore;\n"],"names":["selectRecipes","state","recipes","ListItem","styled","_templateObject","_taggedTemplateLiteral","props","selected","RecipeList","useStore","visibleRecipes","selectRecipe","selectedRecipes","deleteButtonVisible","deleteSelectedRecipes","containerRef","useRef","location","useLocation","useEffect","containerRefCurrent","current","handleContextMenu","event","preventDefault","selectedRecipeId","target","closest","dataset","recipeId","selectedRecipe","find","recipe","id","toString","addEventListener","removeEventListener","_jsxs","ref","children","_jsx","map","includes","Link","to","concat","from","name","tagline","type","onClick","fetchRecipes","loading","currentPage","totalPages","nextPage","prevPage","listRef","window","scrollTo","_Fragment","length","Loading","disabled","API_URL","create","set","get","error","recipeDetails","_fetchRecipes","_asyncToGenerator","_regeneratorRuntime","mark","_callee","page","response","dataRecipes","wrap","_context","prev","next","axios","sent","data","_objectSpread","_toConsumableArray","start","end","slice","t0","statusCode","json","finish","stop","_x","apply","arguments","filter","r","updatedRecipes","getRecipeById","_getRecipeById","_callee2","_context2","t1","t2","isLoading","t3","_x2"],"sourceRoot":""}